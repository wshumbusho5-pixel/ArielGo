{% extends "base.html" %}

{% block title %}Booking #{{ booking.id }} - ArielGo Admin{% endblock %}

{% block content %}
<div class="booking-detail">
    <div class="page-header">
        <h2>Booking #{{ booking.id }}</h2>
        <a href="{{ url_for('bookings') }}" class="btn-back">‚Üê Back to Bookings</a>
    </div>

    <div class="detail-grid">
        <div class="detail-section">
            <h3>Customer Information</h3>
            <div class="detail-row">
                <span class="label">Name:</span>
                <span class="value">{{ booking.customer_name }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Phone:</span>
                <span class="value">{{ booking.customer_phone }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Email:</span>
                <span class="value">{{ booking.customer_email }}</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>Booking Details</h3>
            <div class="detail-row">
                <span class="label">Service Type:</span>
                <span class="value">{{ booking.service_type }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Number of Bags:</span>
                <span class="value">{{ booking.bags }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Total:</span>
                <span class="value">${{ "%.2f"|format(booking.total / 100) }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Status:</span>
                <span class="value"><span class="status-badge status-{{ booking.status }}">{{ booking.status }}</span></span>
            </div>
        </div>

        <div class="detail-section">
            <h3>Pickup Information</h3>
            <div class="detail-row">
                <span class="label">Address:</span>
                <span class="value">{{ booking.pickup_address }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Date:</span>
                <span class="value">{{ booking.pickup_date }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Time:</span>
                <span class="value">{{ booking.pickup_time }}</span>
            </div>
            {% if booking.special_instructions %}
            <div class="detail-row">
                <span class="label">Special Instructions:</span>
                <span class="value">{{ booking.special_instructions }}</span>
            </div>
            {% endif %}
        </div>

        <div class="detail-section">
            <h3>Timestamps</h3>
            <div class="detail-row">
                <span class="label">Created:</span>
                <span class="value">{{ booking.created_at }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Last Updated:</span>
                <span class="value">{{ booking.updated_at }}</span>
            </div>
        </div>
    </div>

    <div class="status-update-section">
        <h3>Update Status</h3>
        <form method="POST" action="{{ url_for('update_status', booking_id=booking.id) }}">
            <select name="status" class="status-select">
                <option value="pending" {% if booking.status == 'pending' %}selected{% endif %}>Pending</option>
                <option value="confirmed" {% if booking.status == 'confirmed' %}selected{% endif %}>Confirmed</option>
                <option value="in_progress" {% if booking.status == 'in_progress' %}selected{% endif %}>In Progress</option>
                <option value="completed" {% if booking.status == 'completed' %}selected{% endif %}>Completed</option>
                <option value="cancelled" {% if booking.status == 'cancelled' %}selected{% endif %}>Cancelled</option>
            </select>
            <button type="submit" class="btn-primary">Update Status</button>
        </form>
    </div>
</div>
{% endblock %}
